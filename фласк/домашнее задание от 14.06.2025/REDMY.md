задание 1.Работа с формами (Flask-WTF)

Установка необходимых библиотек
- Flask и Flask-WTF.
Flask-WTF: Интеграция WTForms с Flask, помогает создавать и валидировать формы.
1.Создаем файл forms.py для определения формы регистрации.
2.Создаем основной файл приложения app.py.
3.Создаем файл templates/register.html для отображения формы регистрации.
1. Форма регистрации:

   • Используется FlaskForm для создания формы с полями: имя пользователя, электронная почта, пароль и подтверждение пароля.

   • Поля имеют валидаторы:

     • DataRequired() — проверяет, что поле заполнено.

     • Email() — проверяет правильность формата электронной почты.

     • EqualTo() — проверяет совпадение паролей.

2. Маршрут /register:

   • При GET-запросе отображается форма.

   • При POST-запросе проверяется валидность формы. Если форма валидна, создается новый объект User, который добавляется в базу данных.

   • Сообщение об успешной регистрации выводится с помощью функции flash.

3. Шаблон register.html:

   • Отображает форму с полями и выводит сообщения об ошибках под каждым полем.

   • Используется hidden_tag() для защиты от CSRF-атак.

   • Выводятся сообщения об успехе или ошибках.


задание 2.авторизация пользователей (Flask-Login)
Flask-Login требует, чтобы ваш класс пользователя реализовывал определенные методы, такие как is_authenticated, is_active, is_anonymous, и get_id().
1. Класс пользователя:  класс User, который наследуется от UserMixin, что позволяет использовать функциональность Flask-Login.

2. Страница входа: Создана форма для входа и маршрут /login, который обрабатывает вводимые данные.

3. Страница выхода: Добавлен маршрут /logout, который использует функцию logout_user() для выхода пользователя.

4. Защищенная страница: Декоратор @login_required используется для защиты страницы /protected, которая доступна только для вошедших пользователей.


задание 3. Хранение данных пользователя (Flask Session)
Для управления сессиями пользователей в Flask можно использовать библиотеку Flask-Login, которая уже включает в себя функциональность для хранения информации о пользователе между запросами.
1. Хранение ID пользователя после успешного входа

Когда пользователь успешно входит в систему с помощью функции login_user(user), Flask-Login автоматически сохраняет ID пользователя в сессии. Вам не нужно делать это вручную. Flask-Login использует механизм сессий Flask для хранения информации о текущем пользователе.

2. Проверка, вошел ли пользователь в систему

Чтобы проверить, вошел ли пользователь в систему на любой странице вашего приложения, вы можете использовать объект current_user, предоставляемый Flask-Login. Если пользователь вошел, current_user.is_authenticated будет равно True.

3. Очистка данных пользователя при выходе из системы

Чтобы очистить данные пользователя при выходе из системы, вы просто вызываете функцию logout_user(). Эта функция удаляет информацию о пользователе из сессии.


задание 4. Работа с базой данных (Flask-SQLAlchemy)
 Создание таблиц: db.create_all() создаст все таблицы в базе данных при первом запуске приложения.

2. Получение записей: get_user_posts(user_id) вернет все записи блога для указанного пользователя.

3. Добавление записи: add_blog_post(title, content, author_id) добавляет новую запись блога.

4. Изменение записи: update_blog_post(post_id, new_title=None, new_content=None) обновляет заголовок и/или текст существующей записи.

5. Удаление записи: delete_blog_post(post_id) удаляет запись по указанному ID.


задание 5.Всплывающие сообщения (Flask Flash)
В Flask для отображения временных сообщений пользователю можно использовать систему "всплывающих сообщений" (flash messages). Это позволяет отправлять уведомления о событиях, таких как успешное изменение профиля, ошибки и другие важные сообщения.
1. Чтобы использовать всплывающие сообщения,импортируем flash и redirect из Flask, а также url_for для перенаправления на нужные страницы.
2. Для отображения сообщений на веб-странице вам нужно добавить код в шаблон HTML + Jinja2 для вывода сообщений

задание 6.Основы Flask

 Файл app.py: импортируем Flask и создаем экземпляр приложения.

   - Определяем два маршрута: / для главной страницы и /user/<username> для страницы профиля пользователя.

   - Используем функцию render_template для рендеринга HTML-шаблонов.

 Шаблон base.html:

   - Это общий шаблон, который содержит шапку и подвал.

   - используем блоки ({% block ... %}) для определения мест, где будут вставляться специфические для каждой страницы элементы.

 Шаблоны home.html и profile.html:

   - Эти шаблоны наследуются от base.html и определяют содержание, специфичное для каждой страницы.

